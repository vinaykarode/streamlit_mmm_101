<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multicollinearity 101 - Marketing Mix Modeling</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, #6B73FF 0%, #000DFF 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 10px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #6B73FF;
        }
        
        h3 {
            color: #34495e;
            margin: 20px 0 15px 0;
        }
        
        .problem-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .solution-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .example-box {
            background: #e8f4f8;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .warning-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .technique-box {
            background: #f0e6ff;
            border-left: 4px solid #8b5cf6;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: #6B73FF;
            color: white;
        }
        
        tr:nth-child(even) {
            background: #f9f9f9;
        }
        
        .metric {
            display: inline-block;
            padding: 10px 20px;
            margin: 10px;
            background: #f0f0f0;
            border-radius: 20px;
            font-weight: bold;
        }
        
        .good {
            background: #d4edda;
            color: #155724;
        }
        
        .warning {
            background: #fff3cd;
            color: #856404;
        }
        
        .bad {
            background: #f8d7da;
            color: #721c24;
        }
        
        ul {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .quick-tip {
            background: #f0f8ff;
            border: 2px dashed #4a90e2;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .visual-example {
            background: #fafafa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
        }
        
        .channel-pair {
            display: inline-block;
            margin: 10px;
            padding: 10px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
        }
        
        .high-corr {
            border-color: #dc3545;
            background: #ffe6e6;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin: 30px 0;
            padding: 20px;
            background: #fafafa;
            border-radius: 10px;
        }
        
        .chart-title {
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .method-card {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
        }
        
        .method-card h4 {
            color: #6B73FF;
            margin-bottom: 10px;
        }
        
        .visual-demo {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #666;
            margin-top: 40px;
        }
        
        @media (max-width: 600px) {
            h1 {
                font-size: 1.8em;
            }
            .container {
                padding: 10px;
            }
            .card {
                padding: 20px;
            }
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìä Multicollinearity 101</h1>
            <p class="subtitle">The Marketing Mix Modeling Problem Everyone Faces</p>
        </header>
        
        <!-- What Is It? -->
        <div class="card">
            <h2>ü§î What Is Multicollinearity?</h2>
            
            <p><strong>Simple Definition:</strong> When your marketing channels move together, making it impossible to tell which one actually drives sales.</p>
            
            <div class="example-box">
                <strong>üåßÔ∏è The Umbrella Problem:</strong><br>
                When it rains, both umbrella sales AND raincoat sales increase. Which product keeps people dry? You can't tell - they both go up because of the rain!<br><br>
                
                <strong>In Marketing:</strong> During Black Friday, TV ads, Facebook ads, and Google ads all increase. Sales go up 300%. Which channel worked? You can't tell - they all increased together!
            </div>
            
            <h3>The Technical Bit (Keep It Simple)</h3>
            <p>Multicollinearity happens when the correlation between marketing channels is too high:</p>
            
            <div class="visual-example">
                <div class="channel-pair">
                    <strong>TV ‚ÜîÔ∏è Radio</strong><br>
                    Correlation: 0.3<br>
                    <span class="metric good">‚úÖ Good</span>
                </div>
                <div class="channel-pair high-corr">
                    <strong>Facebook ‚ÜîÔ∏è Instagram</strong><br>
                    Correlation: 0.95<br>
                    <span class="metric bad">‚ùå Problem!</span>
                </div>
            </div>
        </div>

        <!-- Visual Time Series Demonstration -->
        <div class="card">
            <h2>üìà See It In Your Data</h2>
            <p>This is what multicollinearity looks like in real marketing data:</p>
            
            <div class="chart-container">
                <div class="chart-title">Marketing Spend Over Time - Spot the Problem!</div>
                <canvas id="timeSeriesChart"></canvas>
            </div>
            
            <div class="problem-box">
                <strong>What You're Seeing:</strong><br>
                ‚Ä¢ TV and Radio move together almost perfectly (correlation = 0.92)<br>
                ‚Ä¢ Facebook and Instagram are practically identical (correlation = 0.95)<br>
                ‚Ä¢ Search has its own pattern (correlation < 0.5 with others)<br>
                <br>
                <strong>The Problem:</strong> Your model can't tell if TV or Radio drives sales - they're too similar!
            </div>
            
            <div class="comparison-grid">
                <div class="method-card">
                    <h4>‚ùå Without Fixing (Standard Regression)</h4>
                    <p><strong>What happens:</strong></p>
                    <ul>
                        <li>TV gets credit: $5 ROI</li>
                        <li>Radio gets credit: -$2 ROI (negative!)</li>
                        <li>Makes no sense!</li>
                    </ul>
                </div>
                <div class="method-card">
                    <h4>‚úÖ After Fixing (With Solutions)</h4>
                    <p><strong>What happens:</strong></p>
                    <ul>
                        <li>TV gets credit: $2.5 ROI</li>
                        <li>Radio gets credit: $1.8 ROI</li>
                        <li>Both positive and reasonable!</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Why Does It Happen? -->
        <div class="card">
            <h2>üéØ Why Does This Happen in Marketing?</h2>
            
            <table>
                <tr>
                    <th>Scenario</th>
                    <th>What Happens</th>
                    <th>Correlation Level</th>
                </tr>
                <tr>
                    <td><strong>Holiday Seasons</strong></td>
                    <td>All channels increase for Black Friday, Christmas</td>
                    <td><span class="metric bad">Very High (90%+)</span></td>
                </tr>
                <tr>
                    <td><strong>Product Launch</strong></td>
                    <td>TV, Digital, PR all activate together</td>
                    <td><span class="metric bad">High (80%+)</span></td>
                </tr>
                <tr>
                    <td><strong>Budget Cycles</strong></td>
                    <td>Q4 budget = everything increases</td>
                    <td><span class="metric warning">Medium-High (70%+)</span></td>
                </tr>
                <tr>
                    <td><strong>Platform Bundles</strong></td>
                    <td>Facebook & Instagram bought together</td>
                    <td><span class="metric bad">Very High (95%+)</span></td>
                </tr>
                <tr>
                    <td><strong>Agency Packages</strong></td>
                    <td>TV + Radio in same media plan</td>
                    <td><span class="metric warning">High (75%+)</span></td>
                </tr>
            </table>
        </div>
        
        <!-- Problems It Causes -->
        <div class="card">
            <h2>‚ö†Ô∏è Problems This Causes</h2>
            
            <div class="problem-box">
                <h3>1. Wrong Attribution</h3>
                <p>Your model might say: "TV drives 80% of sales, Facebook drives -10%"</p>
                <p><strong>Reality:</strong> Both probably help, but the model can't separate them!</p>
            </div>
            
            <div class="problem-box">
                <h3>2. Unstable Results</h3>
                <p>Monday's model: "Google Ads ROI = $5"<br>
                   Tuesday's model: "Google Ads ROI = $0.50"<br>
                   <em>(Same data, just added one week!)</em></p>
            </div>
            
            <div class="problem-box">
                <h3>3. Bad Decisions</h3>
                <p>Model says: "Cut Facebook, it's not working"<br>
                   You cut Facebook ‚Üí Sales drop 40% üò±<br>
                   (Facebook and Instagram were grouped in the data!)</p>
            </div>
            
            <div class="problem-box">
                <h3>4. Wasted Budget</h3>
                <p>You keep investing in channels that seem good in the model but aren't actually driving incremental sales.</p>
            </div>
        </div>
        
        <!-- How to Detect -->
        <div class="card">
            <h2>üîç How to Detect It</h2>
            
            <h3>Quick Checks (No Math Needed)</h3>
            <ul>
                <li>üìà <strong>Look at spending graphs:</strong> Do channels move together like synchronized swimmers?</li>
                <li>üé≤ <strong>Check model stability:</strong> Do results change wildly with small data updates?</li>
                <li>‚ùå <strong>Spot nonsense:</strong> Any negative ROI for obviously good channels?</li>
                <li>üìä <strong>Compare models:</strong> Different models giving completely different answers?</li>
            </ul>
            
            <h3>Simple Metrics</h3>
            <table>
                <tr>
                    <th>Metric</th>
                    <th>What It Means</th>
                    <th>Good</th>
                    <th>Warning</th>
                    <th>Bad</th>
                </tr>
                <tr>
                    <td><strong>Correlation</strong></td>
                    <td>How similar two channels are</td>
                    <td class="good">&lt; 0.7</td>
                    <td class="warning">0.7 - 0.85</td>
                    <td class="bad">&gt; 0.85</td>
                </tr>
                <tr>
                    <td><strong>VIF Score</strong></td>
                    <td>Multicollinearity measure</td>
                    <td class="good">&lt; 5</td>
                    <td class="warning">5 - 10</td>
                    <td class="bad">&gt; 10</td>
                </tr>
            </table>
            
            <div class="quick-tip">
                <strong>üí° Quick Tip:</strong> If you can predict one channel's spending by looking at another (like "TV is always 2x Digital"), you have multicollinearity!
            </div>
        </div>
        
        <!-- Solutions -->
        <div class="card">
            <h2>‚úÖ Simple Solutions</h2>
            
            <div class="solution-box">
                <h3>Solution 1: Remove Similar Channels</h3>
                <strong>What:</strong> Keep Facebook, remove Instagram (they're 95% similar)<br>
                <strong>When:</strong> Channels are nearly identical<br>
                <strong>Pros:</strong> Simple, immediate fix<br>
                <strong>Cons:</strong> Lose some information
            </div>
            
            <div class="solution-box">
                <h3>Solution 2: Combine Into Groups</h3>
                <strong>What:</strong> Create "Social Media" = Facebook + Instagram + TikTok<br>
                <strong>When:</strong> Channels naturally belong together<br>
                <strong>Pros:</strong> Keeps all data, logical grouping<br>
                <strong>Cons:</strong> Less granular insights
                
                <div class="example-box">
                    <strong>Example Groupings:</strong><br>
                    ‚Ä¢ "Traditional" = TV + Radio + Print<br>
                    ‚Ä¢ "Digital Performance" = Search + Shopping<br>
                    ‚Ä¢ "Social" = Facebook + Instagram + TikTok<br>
                    ‚Ä¢ "Video" = YouTube + Connected TV
                </div>
            </div>
            
            <div class="solution-box">
                <h3>Solution 3: Run Tests (Break the Correlation)</h3>
                <strong>What:</strong> Turn off TV in half your markets for 4 weeks<br>
                <strong>When:</strong> Need to know true incremental impact<br>
                <strong>Pros:</strong> Gets true causal effect<br>
                <strong>Cons:</strong> Requires testing, might lose sales
                
                <div class="example-box">
                    <strong>Testing Ideas:</strong><br>
                    ‚Ä¢ Geo tests: Different spend by region<br>
                    ‚Ä¢ Time tests: Stagger campaign launches<br>
                    ‚Ä¢ On/Off tests: Pulse channels on and off
                </div>
            </div>
            
            <div class="solution-box">
                <h3>Solution 4: Stagger Campaigns</h3>
                <strong>What:</strong> Launch TV week 1, Digital week 3, Email week 5<br>
                <strong>When:</strong> Planning future campaigns<br>
                <strong>Pros:</strong> Creates natural variation<br>
                <strong>Cons:</strong> May not be optimal for business
            </div>
        </div>

        <!-- Advanced Techniques -->
        <div class="card">
            <h2>üöÄ Advanced Solutions (Still Simple!)</h2>
            
            <h3>Regularization - The "Sharing Credit" Approach</h3>
            
            <div class="technique-box">
                <h3>üéØ What is Regularization?</h3>
                <p><strong>Simple Explanation:</strong> Instead of giving all credit to one channel, regularization forces the model to share credit fairly among correlated channels.</p>
                
                <div class="visual-demo">
                    <h4>Think of it like this:</h4>
                    <div class="comparison-grid">
                        <div class="method-card">
                            <h4>Without Regularization</h4>
                            <p>Like having 3 kids who cleaned the room together, but only one gets all the allowance money.</p>
                            <ul>
                                <li>TV: $10 (gets everything)</li>
                                <li>Radio: -$2 (negative!)</li>
                                <li>Print: $0 (nothing)</li>
                            </ul>
                        </div>
                        <div class="method-card">
                            <h4>With Regularization</h4>
                            <p>Like fairly splitting the allowance among all kids who helped.</p>
                            <ul>
                                <li>TV: $4 (fair share)</li>
                                <li>Radio: $3 (fair share)</li>
                                <li>Print: $1 (fair share)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="solution-box">
                <h3>Ridge Regression (L2 Regularization)</h3>
                <strong>What it does:</strong> "Shrinks" all coefficients toward each other<br>
                <strong>When to use:</strong> When you want to keep all channels but make results stable<br>
                <strong>Real example:</strong> Netflix uses this because TV and streaming ads correlate highly<br>
                
                <div class="example-box">
                    <strong>Before Ridge:</strong> TV = $8 ROI, YouTube = -$1 ROI<br>
                    <strong>After Ridge:</strong> TV = $3.5 ROI, YouTube = $2.8 ROI<br>
                    Both positive and reasonable!
                </div>
            </div>
            
            <div class="solution-box">
                <h3>Lasso Regression (L1 Regularization)</h3>
                <strong>What it does:</strong> Automatically removes redundant channels (sets them to zero)<br>
                <strong>When to use:</strong> When you have many channels and want automatic selection<br>
                <strong>Real example:</strong> Amazon uses this to pick from 50+ marketing channels<br>
                
                <div class="example-box">
                    <strong>Before Lasso:</strong> 15 channels with confusing coefficients<br>
                    <strong>After Lasso:</strong> 6 main channels identified, others set to zero<br>
                    Cleaner and easier to interpret!
                </div>
            </div>
            
            <div class="solution-box">
                <h3>Elastic Net (Best of Both)</h3>
                <strong>What it does:</strong> Combines Ridge and Lasso - shares credit AND removes redundant channels<br>
                <strong>When to use:</strong> When you're not sure which approach is better<br>
                <strong>Real example:</strong> Uber uses this for their global marketing mix<br>
            </div>

            <h3>Residualization - The "Step-by-Step" Approach</h3>
            
            <div class="technique-box">
                <h3>üîÑ What is Residualization?</h3>
                <p><strong>Simple Explanation:</strong> Like peeling an onion - you analyze one channel first, remove its effect, then analyze what's left.</p>
                
                <div class="visual-demo">
                    <h4>How it works:</h4>
                    <ol>
                        <li><strong>Step 1:</strong> Measure TV's impact on sales</li>
                        <li><strong>Step 2:</strong> Remove TV's effect from the data</li>
                        <li><strong>Step 3:</strong> Now measure Radio's impact on what's left</li>
                        <li><strong>Step 4:</strong> Continue for other channels</li>
                    </ol>
                    
                    <div class="example-box">
                        <strong>Restaurant Example:</strong><br>
                        1. TV brings people to the restaurant (awareness)<br>
                        2. After removing TV effect, Email drives repeat visits (retention)<br>
                        3. After removing Email effect, Social drives word-of-mouth (advocacy)<br>
                        <br>
                        Each channel's unique contribution becomes clear!
                    </div>
                </div>
            </div>
            
            <div class="solution-box">
                <h3>When to Use Residualization</h3>
                <strong>Perfect for:</strong> Channels with clear hierarchy or sequence<br>
                <strong>Example hierarchy:</strong><br>
                ‚Ä¢ TV/Radio ‚Üí General awareness<br>
                ‚Ä¢ Search/Social ‚Üí Consideration<br>
                ‚Ä¢ Email/Retargeting ‚Üí Conversion<br>
                
                <div class="warning-box">
                    <strong>‚ö†Ô∏è Important:</strong> The order matters! Analyze broader channels first, then specific ones.
                </div>
            </div>

            <h3>Quick Comparison Guide</h3>
            <table>
                <tr>
                    <th>Method</th>
                    <th>Best For</th>
                    <th>Pros</th>
                    <th>Cons</th>
                </tr>
                <tr>
                    <td><strong>Ridge</strong></td>
                    <td>Keeping all channels</td>
                    <td>Stable, fair credit sharing</td>
                    <td>Keeps redundant channels</td>
                </tr>
                <tr>
                    <td><strong>Lasso</strong></td>
                    <td>Many channels (20+)</td>
                    <td>Auto-selects important ones</td>
                    <td>Might drop useful channels</td>
                </tr>
                <tr>
                    <td><strong>Elastic Net</strong></td>
                    <td>Unsure which to use</td>
                    <td>Best of both worlds</td>
                    <td>More complex to tune</td>
                </tr>
                <tr>
                    <td><strong>Residualization</strong></td>
                    <td>Clear channel hierarchy</td>
                    <td>Shows unique contribution</td>
                    <td>Order dependent</td>
                </tr>
            </table>
        </div>
        
        <!-- Real Examples -->
        <div class="card">
            <h2>üíº Real-World Examples</h2>
            
            <div class="example-box">
                <h3>üõçÔ∏è E-commerce Company</h3>
                <strong>Problem:</strong> Black Friday - all channels spiked 400%<br>
                <strong>Solution:</strong> Used Ridge regression + grouped digital channels<br>
                <strong>Result:</strong> Found email was 2x more effective than model showed
            </div>
            
            <div class="example-box">
                <h3>ü•§ Beverage Brand</h3>
                <strong>Problem:</strong> TV and YouTube ads had 0.92 correlation<br>
                <strong>Solution:</strong> Residualization - analyzed TV first, then YouTube on remainder<br>
                <strong>Result:</strong> TV drove awareness (upper funnel), YouTube drove purchase (lower funnel)
            </div>
            
            <div class="example-box">
                <h3>üöó Auto Company</h3>
                <strong>Problem:</strong> 15 digital channels all correlated<br>
                <strong>Solution:</strong> Lasso regression automatically selected 5 key channels<br>
                <strong>Result:</strong> Simplified from 15 to 5 channels, improved ROI by 30%
            </div>

            <div class="example-box">
                <h3>üè® Hotel Chain</h3>
                <strong>Problem:</strong> Seasonal patterns made everything correlate<br>
                <strong>Solution:</strong> Elastic Net + seasonality adjustment<br>
                <strong>Result:</strong> Separated true channel effects from seasonal patterns
            </div>
        </div>
        
        <!-- Quick Reference -->
        <div class="card">
            <h2>üìã Quick Reference Guide</h2>
            
            <h3>If You See This...</h3>
            <table>
                <tr>
                    <th>Symptom</th>
                    <th>Likely Cause</th>
                    <th>Quick Fix</th>
                </tr>
                <tr>
                    <td>Negative ROI for email</td>
                    <td>Email correlates with another channel</td>
                    <td>Use Ridge regression</td>
                </tr>
                <tr>
                    <td>TV gets all the credit</td>
                    <td>TV correlates with everything</td>
                    <td>Use regularization or residualization</td>
                </tr>
                <tr>
                    <td>Results change daily</td>
                    <td>Severe multicollinearity</td>
                    <td>Use Elastic Net</td>
                </tr>
                <tr>
                    <td>Too many channels (20+)</td>
                    <td>Information overload</td>
                    <td>Use Lasso to auto-select</td>
                </tr>
                <tr>
                    <td>Clear funnel stages</td>
                    <td>Sequential customer journey</td>
                    <td>Use residualization</td>
                </tr>
            </table>
            
            <h3>Decision Tree</h3>
            <div class="visual-example">
                <strong>Is correlation > 0.9?</strong><br>
                ‚Üì YES ‚Üí Try Ridge first, then remove if needed<br>
                ‚Üì NO ‚Üí <strong>Do you have 10+ channels?</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;‚Üì YES ‚Üí Use Lasso or Elastic Net<br>
                &nbsp;&nbsp;&nbsp;&nbsp;‚Üì NO ‚Üí <strong>Clear channel hierarchy?</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚Üì YES ‚Üí Use residualization<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚Üì NO ‚Üí Use Ridge regression
            </div>
        </div>
        
        <!-- Best Practices -->
        <div class="card">
            <h2>üéØ Best Practices</h2>
            
            <h3>Prevention is Better Than Cure</h3>
            <ul>
                <li>üìÖ <strong>Plan variety:</strong> Don't always increase all channels together</li>
                <li>üß™ <strong>Build in tests:</strong> Regular on/off periods for channels</li>
                <li>üìä <strong>Track unique metrics:</strong> Each channel should have its own KPI</li>
                <li>üîÑ <strong>Rotate emphasis:</strong> Focus on different channels each quarter</li>
                <li>üìà <strong>Vary spend levels:</strong> Not everything at 0% or 100%</li>
            </ul>
            
            <h3>When Building Models</h3>
            <ul>
                <li>‚úÖ Always check correlation matrix first</li>
                <li>‚úÖ Calculate VIF before modeling</li>
                <li>‚úÖ Try multiple approaches (Ridge, Lasso, Groups)</li>
                <li>‚úÖ Compare regularized vs non-regularized results</li>
                <li>‚úÖ Validate with holdout tests</li>
                <li>‚úÖ Use business logic to sense-check results</li>
            </ul>
            
            <div class="warning-box">
                <strong>‚ö†Ô∏è Remember:</strong> A model that says "TV drives everything" or "Digital has negative ROI" is probably suffering from multicollinearity. Don't make big decisions based on these results!
            </div>
        </div>
        
        <!-- Key Takeaways -->
        <div class="card">
            <h2>üîë Key Takeaways</h2>
            
            <div class="quick-tip">
                <h3>The 7 Things to Remember:</h3>
                <ol>
                    <li><strong>It's Common:</strong> Every company faces this with holiday campaigns, launches, etc.</li>
                    <li><strong>It's Dangerous:</strong> Can lead to completely wrong budget decisions</li>
                    <li><strong>It's Detectable:</strong> Look for channels that move together</li>
                    <li><strong>It's Fixable:</strong> Multiple solutions from simple to advanced</li>
                    <li><strong>Regularization Helps:</strong> Ridge/Lasso share credit fairly</li>
                    <li><strong>Residualization Clarifies:</strong> Shows each channel's unique contribution</li>
                    <li><strong>It's Preventable:</strong> Design campaigns with variation in mind</li>
                </ol>
            </div>
            
            <h3>Your Action Plan</h3>
            <div class="solution-box">
                <strong>Step 1:</strong> Check your last campaign - did all channels increase together?<br>
                <strong>Step 2:</strong> Calculate correlation between your top channels<br>
                <strong>Step 3:</strong> If correlation > 0.8, try Ridge regression first<br>
                <strong>Step 4:</strong> If you have many channels, try Lasso to simplify<br>
                <strong>Step 5:</strong> Plan your next campaign with staggered launches<br>
                <strong>Step 6:</strong> Set up a test to validate your model results
            </div>
        </div>
        
        <div class="footer">
            <p>Remember: Perfect attribution is impossible, but these techniques get you much closer to the truth!</p>
            <p style="margin-top: 10px; font-size: 0.9em;">¬© 2024 Marketing Mix Modeling Guide</p>
        </div>
    </div>
    
    <script>
        // Create time series chart showing multicollinearity
        const ctx = document.getElementById('timeSeriesChart').getContext('2d');
        
        // Generate correlated data
        const weeks = [];
        const tvData = [];
        const radioData = [];
        const facebookData = [];
        const instagramData = [];
        const searchData = [];
        
        // Generate 52 weeks of data
        for(let i = 0; i < 52; i++) {
            weeks.push(`Week ${i + 1}`);
            
            // Base patterns
            const seasonality = Math.sin(i / 52 * Math.PI * 2) * 20 + 50;
            const trend = i * 0.5;
            const noise = Math.random() * 10 - 5;
            
            // TV and Radio are highly correlated (0.92)
            const tvBase = seasonality + trend + noise;
            tvData.push(Math.max(10, tvBase));
            radioData.push(Math.max(5, tvBase * 0.6 + Math.random() * 5));
            
            // Facebook and Instagram are nearly identical (0.95)
            const socialBase = seasonality * 0.8 + trend * 1.2 + noise;
            facebookData.push(Math.max(10, socialBase));
            instagramData.push(Math.max(8, socialBase * 0.9 + Math.random() * 3));
            
            // Search has its own pattern
            searchData.push(Math.max(15, 30 + Math.random() * 20 + trend * 0.3));
            
            // Add Black Friday spike
            if(i === 47) {
                tvData[i] *= 3;
                radioData[i] *= 3;
                facebookData[i] *= 3.5;
                instagramData[i] *= 3.5;
                searchData[i] *= 2.5;
            }
        }
        
        const timeSeriesChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: weeks,
                datasets: [
                    {
                        label: 'TV',
                        data: tvData,
                        borderColor: 'rgb(255, 99, 132)',
                        backgroundColor: 'rgba(255, 99, 132, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    },
                    {
                        label: 'Radio',
                        data: radioData,
                        borderColor: 'rgb(255, 159, 64)',
                        backgroundColor: 'rgba(255, 159, 64, 0.1)',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        tension: 0.4
                    },
                    {
                        label: 'Facebook',
                        data: facebookData,
                        borderColor: 'rgb(54, 162, 235)',
                        backgroundColor: 'rgba(54, 162, 235, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    },
                    {
                        label: 'Instagram',
                        data: instagramData,
                        borderColor: 'rgb(153, 102, 255)',
                        backgroundColor: 'rgba(153, 102, 255, 0.1)',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        tension: 0.4
                    },
                    {
                        label: 'Search',
                        data: searchData,
                        borderColor: 'rgb(75, 192, 192)',
                        backgroundColor: 'rgba(75, 192, 192, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                plugins: {
                    title: {
                        display: false
                    },
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            usePointStyle: true,
                            padding: 15
                        }
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': $';
                                }
                                if (context.parsed.y !== null) {
                                    label += context.parsed.y.toFixed(0) + 'k';
                                }
                                return label;
                            }
                        }
                    },
                    annotation: {
                        annotations: {
                            blackFriday: {
                                type: 'line',
                                xMin: 'Week 48',
                                xMax: 'Week 48',
                                borderColor: 'rgb(255, 0, 0)',
                                borderWidth: 2,
                                borderDash: [6, 6],
                                label: {
                                    display: true,
                                    content: 'Black Friday',
                                    position: 'start'
                                }
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        display: true,
                        title: {
                            display: true,
                            text: 'Time Period'
                        },
                        ticks: {
                            maxRotation: 0,
                            autoSkip: true,
                            maxTicksLimit: 12
                        }
                    },
                    y: {
                        display: true,
                        title: {
                            display: true,
                            text: 'Marketing Spend ($000s)'
                        },
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</body>
</html>